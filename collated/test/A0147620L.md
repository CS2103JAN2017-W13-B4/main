# A0147620L
###### \java\guitests\CommandHistoryTest.java
``` java
public class CommandHistoryTest extends DoistGUITest {

    private GuiRobot guiRobot = new GuiRobot();

    @Test
    public void testUp () {

        //Add task
        TestTask taskToAdd = td.email;
        commandBox.runCommand(taskToAdd.getAddCommand());

        //Press UP arrow, then press ENTER key
        guiRobot.push(KeyCode.UP, KeyCode.ENTER);
        guiRobot.sleep(GuiHandleSetting.SLEEP_LENGTH);

        //Check if the add command was executed twice
        assertResultMessage(AddCommand.MESSAGE_DUPLICATE_TASK);

    }

    @Test
    public void testDown () {

        //Add two task
        TestTask taskToAdd = td.email;
        commandBox.runCommand(taskToAdd.getAddCommand());
        taskToAdd = td.chores;
        commandBox.runCommand(taskToAdd.getAddCommand());
        guiRobot.sleep(GuiHandleSetting.COMMAND_RUN_TIME);

        //Press UP arrow twice followed by DOWN arrow, then press ENTER key
        //This combination tries to add a duplicate task
        guiRobot.push(KeyCode.UP);
        guiRobot.sleep(GuiHandleSetting.SLEEP_LENGTH);
        guiRobot.push(KeyCode.UP);
        guiRobot.sleep(GuiHandleSetting.SLEEP_LENGTH);
        guiRobot.push(KeyCode.DOWN);
        guiRobot.sleep(GuiHandleSetting.SLEEP_LENGTH);
        guiRobot.push(KeyCode.ENTER);
        guiRobot.sleep(GuiHandleSetting.SLEEP_LENGTH);

        //Assert that clear was executed successfully
        assertResultMessage(AddCommand.MESSAGE_DUPLICATE_TASK);
    }
}
```
###### \java\guitests\EditCommandTest.java
``` java
    @Test
    public void edit_allFieldsSpecified_success() throws Exception {
        String detailsToEdit = "Buy mangoes \\under groceries \\from \\to \\as normal";
        int todoListIndex = 1;

        TestTask editedTask = new TaskBuilder().withName("Buy mangoes").
                withTags("groceries").withPriority("normal").build();
        assertEditSuccess(todoListIndex, todoListIndex, detailsToEdit, editedTask);
    }

    @Test
    public void edit_notAllFieldsSpecified_success() throws Exception {
        String detailsToEdit = "\\as very important";
        int todoListIndex = 2;

        TestTask taskToEdit = expectedTasks[todoListIndex - 1];
        TestTask editedTask = new TaskBuilder(taskToEdit).withPriority("very important").build();

        assertEditSuccess(todoListIndex, todoListIndex, detailsToEdit, editedTask);
    }

    @Test
    public void edit_clearDates_success() throws Exception {
        String detailsToEdit = "\\by";
        int todoListIndex = 1;

        TestTask taskToEdit = expectedTasks[todoListIndex - 1];
        TestTask editedTask = new TaskBuilder(taskToEdit).withDates(null, null).build();

        assertEditSuccess(todoListIndex, todoListIndex, detailsToEdit, editedTask);
    }

    @Test
    public void edit_clearTags_success() throws Exception {
        String detailsToEdit = "\\under";
        int todoListIndex = 3;

        TestTask taskToEdit = expectedTasks[todoListIndex - 1];
        TestTask editedTask = new TaskBuilder(taskToEdit).withTags().build();
        assertEditSuccess(todoListIndex, todoListIndex, detailsToEdit, editedTask);
    }

    @Test
    public void edit_findThenEdit_success() throws Exception {
        commandBox.runCommand("find math");

        String detailsToEdit = "Complete chemistry homework";
        int filteredTaskListIndex = 1;
        int todoListIndex = 3;

        TestTask taskToEdit = expectedTasks[todoListIndex - 1];
        TestTask editedTask = new TaskBuilder(taskToEdit).withName("Complete chemistry homework").build();
        assertEditSuccess(filteredTaskListIndex, todoListIndex, detailsToEdit, editedTask, true);
    }
```
###### \java\guitests\EditCommandTest.java
``` java
    @Test
    public void edit_invalidDateFormat_failure() {
        commandBox.runCommand("edit 1 \\from today \\by tomorrow");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));

        commandBox.runCommand("edit 1 \\from today");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
    }

    @Test
    public void edit_invalidDates_failure() {
        commandBox.runCommand("edit 1 \\from tomorrow \\to today");
        assertResultMessage(MESSAGE_INVALID_DATES);

        //Date that can't be parsed
        commandBox.runCommand("edit 1 \\by tomr");
        assertResultMessage(MESSAGE_INVALID_DATES);

    }

```
###### \java\guitests\FindCommandTest.java
``` java
public class FindCommandTest extends DoistGUITest {

    @Test
    public void find_nonEmptyList() {
        assertFindResult("find Apple"); // no results
        assertFindResult("find homework", td.homework); // one results

        //find after deleting one result
        commandBox.runCommand("delete 1");
        assertFindResult("find homework");
    }

    @Test
    public void find_emptyList() {
        commandBox.runCommand("clear");
        assertFindResult("find Milk"); // no results
    }

    @Test
    public void find_invalidCommand_fail() {
        commandBox.runCommand("findmilk");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }

    @Test
    public void find_nearMatch() {
        assertFindResult("find mth homework", td.homework);
        assertFindResult("find chemistry assnment", td.school);
    }

    @Test
    public void find_caseInsensitive() {
        assertFindResult("find buy new clock", td.shopping);
        assertFindResult("find do Laundry", td.laundry);
    }

    private void assertFindResult(String command, TestTask... expectedHits) {
        commandBox.runCommand(command);
        assertListSize(expectedHits.length);
        assertResultMessage(expectedHits.length + " tasks listed!");
        assertTrue(taskListPanel.isListMatching(expectedHits));
    }

}
```
###### \java\guitests\ListCommandTest.java
``` java
    @Test
    public void testListFromToValidDates() {
        //Add a new event, with the dates
        TestTask taskToAdd = td.movie;
        commandBox.runCommand(taskToAdd.getAddCommand());

        //List in an interval that CONTAINS this task"
        commandBox.runCommand("list \\from dec 1st 2016 \\to feb 2017");
        String dateStringFrom = "Dec 1 00:00:00 2016";
        String dateStringTo = "Feb 1 00:00:00 2017";
        // The default medium/short DateFormat
        DateFormat format = new SimpleDateFormat("MMM dd kk:mm:ss yyyy");
        try {
            //Check if all tasks listed are in this interval
            assertListDate(stringToDate(format, dateStringFrom), stringToDate(format, dateStringTo));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false : "not possible";
        }
    }

    @Test
    public void testListFromToInValidDates() {
        //List in an interval that is wrong
        commandBox.runCommand("list \\from feb 2017 \\to dec 1st 2016");

        assertResultMessage(String.format(Messages.MESSAGE_INVALID_COMMAND_FORMAT, ListCommand.MESSAGE_USAGE));
    }

    @Test
    public void testListBeforeDates() {
        //Add a new event, with the dates
        TestTask taskToAdd = td.movie;
        commandBox.runCommand(taskToAdd.getAddCommand());

        //List in an interval that is completely before this task"
        commandBox.runCommand("list \\from Oct 1st 2016 \\to Dec 2016");
        String dateStringFrom = "Oct 1 00:00:00 2016";
        String dateStringTo = "Dec 1 00:00:00 2016";
        // The default medium/short DateFormat
        DateFormat format = new SimpleDateFormat("MMM dd kk:mm:ss yyyy");
        try {
            //Check if all tasks listed are in this interval
            assertListDate(stringToDate(format, dateStringFrom), stringToDate(format, dateStringTo));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false : "not possible";
        }
    }

    @Test
    public void testListAfterDates() {
        //Add a new event, with the dates
        TestTask taskToAdd = td.movie;
        commandBox.runCommand(taskToAdd.getAddCommand());

        //List in an interval that is completely after this task"
        commandBox.runCommand("list \\from Oct 1st 2017 \\to Dec 2017");
        String dateStringFrom = "Oct 1 00:00:00 2017";
        String dateStringTo = "Dec 1 00:00:00 2017";
        // The default medium/short DateFormat
        DateFormat format = new SimpleDateFormat("MMM dd kk:mm:ss yyyy");
        try {
            //Check if all tasks listed are in this interval
            assertListDate(stringToDate(format, dateStringFrom), stringToDate(format, dateStringTo));
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false : "not possible";
        }
    }
```
